<!DOCTYPE html>
<html>
    <head>
        
        <link rel="stylesheet" type="text/css" href="materialize/css/materialize.css">
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        
    </head>
    <body>
        <form method="POST" action="/item" id="itemForm">
            <h1>Home get your id</h1> <p>

            <div class="formContent">
                <input type="text" placeholder="tweet id#" name="itemId">
                
                <button type="submit" class="btn btn-default" style="margin-top: 10px">Submit</button>
            </div>
            
            <div id="appendHere"></div>
            
        </form>
        
        <script>
            $(document).ready(function () {
                $("#itemForm").submit(function (event, jqXHR) {
                    event.preventDefault(); 
                    $.ajax({
                        "url": "/item",
                        "type":"POST",
                        "data": JSON.stringify({
                            itemId: $("input[name='itemId']").val()
                        }), 
                        "dataType": "json", 
                        "contentType": "application/json; charset=utf-8"
                    }).done(function(data) {
                       
                        if (data.status=="OK"){
                            
                            $("#appendHere").html("<p style='text-align: center'> Id:" + data.item.id + " Username: " + data.item.username + " Content: " + data.item.content + " Timestamp: " + data.item.timestamp);
                        }
                        else 
                            $("#appendHere").html("<p style='text-align:center'>Invalid Login, try again<br>");
                    });
                    
                });
            });
        </script>
    </body>
</html>

